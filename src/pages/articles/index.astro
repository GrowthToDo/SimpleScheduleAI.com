---
import BaseLayout from "@layout/BaseLayout.astro";
import { getCollection } from "astro:content";

const articles = await getCollection("articles");
const sortedArticles = articles.sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());

const seo = {
  title: "Articles - SimpleScheduleAI",
  description: "Insights and articles about nurse scheduling, Critical Access Hospitals in Texas, and healthcare operations.",
};
---

<BaseLayout seo={seo}>
  <section class="relative overflow-hidden">
    <div class="pointer-events-none absolute inset-0">
      <div class="absolute -top-24 left-1/2 h-80 w-[52rem] -translate-x-1/2 rounded-full bg-teal-200/40 blur-3xl"></div>
    </div>

    <div class="relative mx-auto max-w-[85rem] px-4 pb-20 pt-32 sm:px-6 lg:px-8">
      <div class="mb-12">
        <h1 class="text-balance text-4xl font-semibold tracking-tight text-slate-900 sm:text-5xl">
          Articles
        </h1>
        <p class="mt-4 text-lg text-slate-700">
          Insights about nurse scheduling, Critical Access Hospitals in Texas, and healthcare operations.
        </p>
      </div>

      <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
        {sortedArticles.map((article) => (
          <article class="group rounded-2xl border border-slate-200 bg-white p-6 shadow-sm transition-shadow hover:shadow-md">
            <time class="text-sm text-slate-600">
              {article.data.date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
            </time>
            <h2 class="mt-3 text-xl font-semibold text-slate-900 group-hover:text-teal-700">
              <a href={`/articles/${article.id}`}>
                {article.data.title}
              </a>
            </h2>
            <p class="mt-3 text-slate-700">
              {article.data.description}
            </p>
            <a
              href={`/articles/${article.id}`}
              class="mt-4 inline-flex items-center text-sm font-semibold text-teal-700 hover:text-teal-600"
            >
              Read more â†’
            </a>
          </article>
        ))}
      </div>
    </div>
  </section>
</BaseLayout>
