---
import Icon from "@ui/icons/Icon.astro";

const title = "Call-outs become a workflow, not a fire drill";
const subtitle = 'We do the chasing: eligibility + availability + escalation. No more mass texts and "anyone available?" chaos.';

const details = [
  "We check eligible staff availability first (skills, role, charge)",
  "We work your escalation order (float → voluntary OT → last resort)",
  "Every change lands in the **Exceptions + Decisions Log** for later review",
];

const logExample = {
  title: "Exceptions Log Entry Example",
  event: "2AM CALL-OUT (MS UNIT)",
  eligibility: "4 QUALIFIED",
  escalation: "STEP 2 (VOLUNTARY OT)",
  decision: "NURSE SMITH APPROVED (1.5X)",
  reason: "PROTECT CHARGE MIX ON NEXT SHIFT",
  note: "Defendable in a huddle, ready for staffing committee.",
};
---

<section class="bg-linear-to-b from-slate-50 via-white to-white">
  <div class="mx-auto max-w-[85rem] px-4 py-16 sm:px-6 lg:px-8 lg:py-24">
    <div class="grid gap-12 lg:grid-cols-2 lg:items-center">
      {/* Call-out workflow diagram */}
      <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
        <p class="mb-5 text-xs font-semibold uppercase tracking-widest text-slate-400">Call-out at 2AM — what happens next</p>

        <div class="space-y-0">

          {/* Step 1 */}
          <div class="flex items-start gap-4">
            <div class="flex flex-col items-center shrink-0">
              <div class="flex h-9 w-9 items-center justify-center rounded-full bg-red-100 border-2 border-red-300 text-red-600 font-bold text-sm">!</div>
              <div class="w-0.5 h-8 bg-slate-200 mt-1"></div>
            </div>
            <div class="pb-4 pt-1">
              <p class="font-semibold text-slate-900 text-sm">Call-out logged</p>
              <p class="text-xs text-slate-500 mt-0.5">James W. — Night shift, MS Unit. Schedule gap flagged.</p>
            </div>
          </div>

          {/* Step 2 */}
          <div class="flex items-start gap-4">
            <div class="flex flex-col items-center shrink-0">
              <div class="flex h-9 w-9 items-center justify-center rounded-full bg-amber-100 border-2 border-amber-300 text-amber-700 font-bold text-sm">?</div>
              <div class="w-0.5 h-8 bg-slate-200 mt-1"></div>
            </div>
            <div class="pb-4 pt-1">
              <p class="font-semibold text-slate-900 text-sm">Eligibility check</p>
              <p class="text-xs text-slate-500 mt-0.5">Skills, role, charge status, availability, hours — 4 qualified nurses found.</p>
            </div>
          </div>

          {/* Step 3 */}
          <div class="flex items-start gap-4">
            <div class="flex flex-col items-center shrink-0">
              <div class="flex h-9 w-9 items-center justify-center rounded-full bg-slate-100 border-2 border-slate-300 text-slate-600 font-bold text-sm">3</div>
              <div class="w-0.5 h-8 bg-slate-200 mt-1"></div>
            </div>
            <div class="pb-4 pt-1">
              <p class="font-semibold text-slate-900 text-sm">Top candidates ranked</p>
              <div class="mt-1.5 space-y-1">
                <div class="flex items-center gap-2 text-xs">
                  <span class="rounded bg-teal-50 border border-teal-200 px-2 py-0.5 font-medium text-teal-700">#1 PRN · No OT</span>
                  <span class="text-slate-500">Rachel M.</span>
                </div>
                <div class="flex items-center gap-2 text-xs">
                  <span class="rounded bg-slate-50 border border-slate-200 px-2 py-0.5 font-medium text-slate-600">#2 Float · Low OT risk</span>
                  <span class="text-slate-500">Paul W.</span>
                </div>
                <div class="flex items-center gap-2 text-xs">
                  <span class="rounded bg-amber-50 border border-amber-200 px-2 py-0.5 font-medium text-amber-700">#3 Voluntary OT</span>
                  <span class="text-slate-500">Nurse Smith</span>
                </div>
              </div>
            </div>
          </div>

          {/* Step 4 */}
          <div class="flex items-start gap-4">
            <div class="flex flex-col items-center shrink-0">
              <div class="flex h-9 w-9 items-center justify-center rounded-full bg-teal-100 border-2 border-teal-400 text-teal-700 font-bold text-sm">✓</div>
              <div class="w-0.5 h-8 bg-slate-200 mt-1"></div>
            </div>
            <div class="pb-4 pt-1">
              <p class="font-semibold text-slate-900 text-sm">Manager approves — 1 click</p>
              <p class="text-xs text-slate-500 mt-0.5">Nurse Smith confirmed at 1.5× — charge mix protected on next shift.</p>
            </div>
          </div>

          {/* Step 5 — no connector */}
          <div class="flex items-start gap-4">
            <div class="flex flex-col items-center shrink-0">
              <div class="flex h-9 w-9 items-center justify-center rounded-full bg-teal-600 border-2 border-teal-600 text-white font-bold text-sm">✓</div>
            </div>
            <div class="pt-1">
              <p class="font-semibold text-slate-900 text-sm">Schedule updated + logged</p>
              <p class="text-xs text-slate-500 mt-0.5">Exceptions log entry created. Audit trail complete. Ready for huddle.</p>
            </div>
          </div>

        </div>
      </div>

      <div>
        <h2 class="text-balance text-3xl font-semibold tracking-tight text-slate-900 sm:text-4xl">
          {title}
        </h2>
        <p class="mt-4 text-lg text-slate-700">{subtitle}</p>

        <ul class="mt-8 space-y-4">
          {details.map((detail) => (
            <li class="flex items-start gap-3">
              <span class="mt-1 text-teal-700">
                <Icon name="check" class="size-5" />
              </span>
              <span class="text-slate-700">{detail}</span>
            </li>
          ))}
        </ul>

        <div class="mt-10 rounded-2xl bg-slate-900 p-6 font-mono text-sm text-white">
          <p class="font-bold">{logExample.title}</p>
          <div class="mt-4 space-y-2">
            <p><span class="text-teal-400">EVENT:</span> {logExample.event}</p>
            <p><span class="text-teal-400">ELIGIBILITY CHECK:</span> {logExample.eligibility}</p>
            <p><span class="text-teal-400">ESCALATION:</span> {logExample.escalation}</p>
            <p><span class="text-teal-400">DECISION:</span> {logExample.decision}</p>
            <p><span class="text-teal-400">REASON:</span> {logExample.reason}</p>
          </div>
          <p class="mt-4 text-xs italic text-slate-400">{logExample.note}</p>
        </div>
      </div>
    </div>
  </div>
</section>
